<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Pod Management</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 50px;
        }
    </style>
</head>
<body>
    <button id="login">Login</button>
    <button id="logout">Logout</button>
    <button id="read">Read</button>
    <button id="write">Write</button>
    <button id="clear">Clear</button>
    <button id="dev">Dev</button>

    <h3>Status</h3>
    <pre id="status"></pre>

    <h3>Output</h3>
    <pre id="output"></pre>

    <script type="module">
        import { doLogin, doLogout, read, write, clear, init, runQueryOnProfile } from "./main.js" // "./dist/bundle.js"

        function setStatus(msg) { document.getElementById("status").textContent = msg }
        function setOutput(msg) { document.getElementById("output").textContent = msg }

        document.getElementById("login").onclick = async () => { await doLogin() }
        document.getElementById("logout").onclick = async () => { await doLogout(); window.location.reload() }
        document.getElementById("read").onclick = async () => { setOutput(await read()) }
        document.getElementById("write").onclick = async () => { setOutput(await write()) }
        document.getElementById("clear").onclick = async () => { setOutput(await clear()) }
        document.getElementById("dev").onclick = async () => {
            let query = `
                PREFIX ex: <https://example.com/>
                SELECT ?name WHERE { ?s ex:name ?name }`
            console.log(await runQueryOnProfile(query))
        }

        let res = await init()
        setStatus(res.msg)
    </script>
</body>
</html>
